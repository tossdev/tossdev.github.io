<!DOCTYPE html>
<html>
<head>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body>
    <form id="cashReceiptForm" action="https://pay.toss.im/api/v2/issue-cash-receipt" method="POST">
        <input type="text" name="apiKey" value="example_api_key">
        <input type="text" name="payToken" value="example_payToken">
        <input type="text" name="cashReceiptKey" value="01001230123">
        <input type="text" name="cashReceiptKeyType" value="PHONE">
        <input type="text" name="cashReceiptPurpose" value="DEDUCTION">
        <input type="submit" value="발급 요청">
    </form>

    <div id="response"></div>

    <script>
        // 이벤트 리스너를 등록하여 폼 제출 시 API 호출
        $('#cashReceiptForm').submit(function (event) {
            event.preventDefault(); // 폼 기본 동작 방지

            // API 호출
            $.ajax({
                type: "POST",
                url: "https://pay.toss.im/api/v2/issue-cash-receipt",
                data: $('#cashReceiptForm').serialize(), // 폼 데이터를 전달
                success: function (response) {
                    // API 응답을 처리
                    $('#response').html(JSON.stringify(response, null, 2));
                },
                error: function (xhr, status, error) {
                    $('#response').html("API 호출에 실패했습니다. 상태 코드: " + xhr.status);
                }
            });
        });
    </script>
</body>
</html>
